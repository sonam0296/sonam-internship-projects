"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createTransformOptions = exports.applyDomino = void 0;
const fs_1 = require("fs");
const domino = require('domino');
function applyDomino(global, templatePath) {
    const template = fs_1.readFileSync(templatePath).toString();
    const win = domino.createWindow(template);
    global['window'] = win;
    Object.defineProperty(win.document.body.style, 'transform', createTransformOptions());
    global['document'] = win.document;
    global['navigator'] = win.navigator;
    global['CSS'] = null;
    global['Prism'] = null;
}
exports.applyDomino = applyDomino;
function createTransformOptions() {
    const value = () => ({
        enumerable: true,
        configurable: true,
    });
    return { value };
}
exports.createTransformOptions = createTransformOptions;
